<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ò–ò –£—á–∏—Ç–µ–ª—å –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∏ (–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π)</title>
<style>
body { font-family: Arial; background: #f0f8ff; padding: 20px; }
#lesson, #instruction, #feedback { margin-bottom: 15px; font-size: 22px; }
.block { display:inline-block; width:30px; height:30px; margin:2px; border-radius:5px; background-color:#f39c12; cursor:pointer; }
#container { margin-bottom:10px; }
#answer { font-size: 20px; padding:5px; width:80px; }
button { font-size:20px; padding:5px; margin-left:10px; }
#score { margin-top:10px; font-size:20px; }
</style>
</head>
<body>

<h1>–£—á–∏–º—Å—è —Å—á–∏—Ç–∞—Ç—å —Å –±–ª–æ–∫–∞–º–∏!</h1>

<div id="lesson"></div>
<div id="instruction"></div>
<div id="container"></div>
<div>
  <input type="number" id="answer" placeholder="–°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ?">
  <button onclick="checkAnswer()">–û—Ç–≤–µ—Ç–∏—Ç—å</button>
</div>
<div id="feedback"></div>
<div id="score">–û—á–∫–∏: 0</div>

<script>
let score = 0;
let a,b;
let clickedCount = 0;

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∞
function generateQuestion(){
    a = Math.floor(Math.random()*20)+10;
    b = Math.floor(Math.random()*20)+10;
    clickedCount = 0;

    document.getElementById('lesson').textContent = `–°–ª–æ–∂–µ–Ω–∏–µ —á–∏—Å–µ–ª (3 –∫–ª–∞—Å—Å): ${a} + ${b}`;
    document.getElementById('instruction').textContent = '–ö–ª–∏–∫–Ω–∏ –ø–æ –±–ª–æ–∫–∞–º, —á—Ç–æ–±—ã –ø–æ—Å—á–∏—Ç–∞—Ç—å –∏—Ö!';
    document.getElementById('feedback').textContent = '';
    document.getElementById('answer').value = '';

    const container = document.getElementById('container');
    container.innerHTML = '';

    // —Å–æ–∑–¥–∞—ë–º –±–ª–æ–∫–∏ –¥–ª—è a
    for(let i=0;i<a;i++){
        const div = document.createElement('div');
        div.className = 'block';
        div.onclick = () => handleClick(div);
        container.appendChild(div);
    }

    // —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    const sep = document.createElement('div');
    sep.style.width = '100%';
    sep.style.height = '10px';
    container.appendChild(sep);

    // —Å–æ–∑–¥–∞—ë–º –±–ª–æ–∫–∏ –¥–ª—è b
    for(let i=0;i<b;i++){
        const div = document.createElement('div');
        div.className = 'block';
        div.onclick = () => handleClick(div);
        container.appendChild(div);
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –±–ª–æ–∫—É
function handleClick(block){
    block.style.backgroundColor = '#2ecc71'; // –º–µ–Ω—è–µ–º —Ü–≤–µ—Ç –Ω–∞ –∑–µ–ª—ë–Ω—ã–π
    clickedCount++;
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
function checkAnswer(){
    const ans = parseInt(document.getElementById('answer').value);
    const correct = a+b;
    const feedback = document.getElementById('feedback');

    if(ans === correct){
        feedback.style.color = 'green';
        feedback.textContent = `–ü—Ä–∞–≤–∏–ª—å–Ω–æ! ${a} + ${b} = ${correct} üéâ`;
        score++;
    } else {
        feedback.style.color = 'red';
        feedback.textContent = `–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correct}`;
    }

    document.getElementById('score').textContent = `–û—á–∫–∏: ${score}`;
    generateQuestion();
}

// –ó–∞–ø—É—Å–∫
generateQuestion();
</script>

</body>
</html>
